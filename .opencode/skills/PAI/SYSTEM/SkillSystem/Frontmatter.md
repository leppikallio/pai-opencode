> Up (runtime): `/Users/zuul/.config/opencode/skills/PAI/SYSTEM/SkillSystem.md`
> Source (repo): `/Users/zuul/Projects/pai-opencode/.opencode/skills/PAI/SYSTEM/SkillSystem.md`
> Scope: YAML frontmatter schema and discovery/routing implications for skills.

<!-- SKILLSYSTEM:FRONTMATTER:v1 -->

# SkillSystem — Frontmatter

This section defines the **YAML frontmatter contract** at the top of every `SKILL.md`. Frontmatter drives discovery and routing.

---

## Required YAML frontmatter schema

Every `SKILL.md` MUST begin with YAML frontmatter:

```yaml
---
name: SkillName
description: One line summary. USE WHEN user intent indicates activation.
---
```

### Required fields

- `name` (required)
  - MUST be **TitleCase** (PascalCase).
  - SHOULD match the skill directory name.

- `description` (required)
  - MUST be a **single line** (no `|` multiline blocks).
  - MUST contain the literal phrase **`USE WHEN`**.
  - SHOULD describe intent (what you mean), not exact string matches (what you type).

### Optional fields (only when applicable)

You may declare Science protocol compliance:

```yaml
implements: Science
science_cycle_time: micro   # micro | meso | macro
```

---

## Description rules (USE WHEN clause)

`description` is parsed as the primary discovery and routing hint. It must be concise, intent-based, and explicit.

Guidelines:

- Include `USE WHEN` exactly once.
- Prefer “user intent” language:
  - “USE WHEN you want to …”
  - “USE WHEN you mention …”
  - “USE WHEN you need to …”
- Use `OR` to combine multiple conditions.
- Keep practical length under ~1024 characters.

✅ Good:

```yaml
---
name: create-skill
description: Skill creation and canonicalization system. USE WHEN you want to create, update, canonicalize, or import a skill.
---
```

✅ Good (multiple triggers with OR):

```yaml
---
name: browser
description: Browser automation with debug visibility. USE WHEN you need to verify a UI in a real browser OR capture a screenshot.
---
```

❌ Bad (missing USE WHEN):

```yaml
---
name: Browser
description: Browser automation.
---
```

❌ Bad (multiline description):

```yaml
---
name: research
description: |
  Deep research skill.
  USE WHEN you need citations.
---
```

❌ Bad (wrong casing / separators):

```yaml
---
name: create-skill
description: Create skills. USE WHEN you want a new skill.
---
```

---

## Forbidden YAML patterns

Do NOT introduce additional routing structures in YAML.

Forbidden:

- `triggers:` arrays
- `workflows:` arrays
- any frontmatter attempting to fully encode routing tables

Why: routing is defined in the markdown body (e.g., a workflow routing table) where it’s easier to read, maintain, and verify.

---

## Indexing and routing implications

PAI maintains a generated index:

- `/Users/zuul/.config/opencode/skills/skill-index.json`

It is regenerated by:

- `/Users/zuul/.config/opencode/skills/PAI/Tools/GenerateSkillIndex.ts`

Implications:

- Any change to `name` or `description` affects indexing and routing.
- Missing or malformed `USE WHEN` reduces discoverability and leads to incorrect skill selection.

## Runtime vs repo paths

When authoring documentation that links to other PAI system docs, prefer absolute **runtime** paths (stable during execution):

- `/Users/zuul/.config/opencode/skills/PAI/SYSTEM/SkillSystem.md`

