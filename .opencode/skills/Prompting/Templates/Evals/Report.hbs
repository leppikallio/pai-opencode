{{!--
  REPORT Template — evaluation run summary with statistical context
--}}

# {{report.title}}

**Run ID:** `{{report.eval_run_id}}`  
**Timestamp:** {{report.timestamp}}  
**Use Case:** {{report.use_case}}
{{#if report.version}}  
**Version:** {{report.version}}{{/if}}

---

## Executive Summary

{{#gt summary.pass_rate 0.9}}
✅ **Excellent** — {{percent summary.pass_rate 1}}% pass rate
{{else}}
{{#gt summary.pass_rate 0.75}}
✅ **Good** — {{percent summary.pass_rate 1}}% pass rate
{{else}}
{{#gt summary.pass_rate 0.5}}
⚠️ **Needs improvement** — {{percent summary.pass_rate 1}}% pass rate
{{else}}
❌ **Critical** — {{percent summary.pass_rate 1}}% pass rate
{{/gt}}
{{/gt}}
{{/gt}}

| Metric | Value |
|---|---:|
| Total Cases | {{summary.total_cases}} |
| Passed | {{summary.passed}} |
| Failed | {{summary.failed}} |
| Pass Rate | {{percent summary.pass_rate 1}}% |
| Mean Score | {{summary.mean_score}} |
| Std Dev | {{summary.std_dev}} |
| SEM | {{summary.sem}} |
| Confidence Interval | [{{summary.confidence_interval.[0]}}, {{summary.confidence_interval.[1]}}] |

---

{{#if comparison}}
## Version Comparison

| Metric | Previous ({{comparison.previous_version}}) | Current | Delta |
|---|---:|---:|---:|
| Mean Score | {{comparison.previous_score}} | {{summary.mean_score}} | {{comparison.delta}} |

{{#if comparison.significant}}
⚠️ Statistically significant change detected.
{{else}}
✅ No statistically significant change detected.
{{/if}}

---
{{/if}}

## Dimension Breakdown

| Dimension | Weight | Mean | Std Dev |
|---|---:|---:|---:|
{{#each dimensions}}
| {{name}} | {{percent weight 1}}% | {{mean}} | {{std_dev}} |
{{/each}}

---

{{#if failures}}
## Failure Analysis

{{failures.length}} failed cases:

| Test ID | Score | Reason |
|---|---:|---|
{{#each failures}}
| `{{test_id}}` | {{score}} | {{truncate reason 80}} |
{{/each}}

{{/if}}

## Recommendations

{{#lt summary.pass_rate 0.75}}
### Immediate
1. Investigate low-scoring dimensions first.
2. Inspect top recurring failure reasons.
3. Patch prompt contracts and rerun evals.
{{else}}
### Next
1. Preserve winning prompt configuration.
2. Add regression guards for weakest dimensions.
3. Continue periodic benchmark runs.
{{/lt}}

---

## Machine-readable Summary (YAML)

```yaml
summary:
  total_cases: {{summary.total_cases}}
  passed: {{summary.passed}}
  failed: {{summary.failed}}
  pass_rate: {{summary.pass_rate}}
  mean_score: {{summary.mean_score}}
  std_dev: {{summary.std_dev}}
  sem: {{summary.sem}}
  confidence_interval: [{{summary.confidence_interval.[0]}}, {{summary.confidence_interval.[1]}}]
```

---

Generated by eval reporting template.
