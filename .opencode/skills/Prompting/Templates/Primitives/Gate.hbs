{{!--
  GATE Template — Validation and completion checklist

  Goal:
  - Define mandatory vs recommended checks
  - Make fail behavior explicit
  - Encourage evidence-backed completion
--}}

{{#if gates}}
# Validation Gates

{{#if version}}
**Version:** {{version}}
{{/if}}

---

{{#each gates}}
## {{name}}

{{#if category}}
**Category:** `{{category}}`
{{/if}}
{{#if description}}
**Purpose:** {{description}}
{{/if}}
{{#if action_on_fail}}
**If Gate Fails:** {{action_on_fail}}
{{/if}}

### Mandatory Checks
{{#if mandatory}}
{{#each mandatory}}
- [ ] **{{name}}** — {{description}}
{{/each}}
{{else}}
- [ ] *(No mandatory checks provided)*
{{/if}}

### Recommended Checks
{{#if recommended}}
{{#each recommended}}
- [ ] {{name}} — {{description}}
{{/each}}
{{else}}
- [ ] *(No recommended checks provided)*
{{/if}}

### Evidence Contract

For each mandatory check marked complete, include:
- evidence type
- evidence source
- evidence content

---
{{/each}}

{{else}}

## {{gate.name}} Checklist

{{#if gate.category}}
**Category:** `{{gate.category}}`
{{/if}}
{{#if gate.description}}
**Purpose:** {{gate.description}}
{{/if}}
{{#if gate.action_on_fail}}
**If Gate Fails:** {{gate.action_on_fail}}
{{/if}}

### Mandatory Checks
{{#if gate.mandatory}}
{{#each gate.mandatory}}
- [ ] **{{name}}** — {{description}}
{{/each}}
{{else}}
- [ ] *(No mandatory checks provided)*
{{/if}}

### Recommended Checks
{{#if gate.recommended}}
{{#each gate.recommended}}
- [ ] {{name}} — {{description}}
{{/each}}
{{else}}
- [ ] *(No recommended checks provided)*
{{/if}}

### Evidence Contract

For each mandatory check marked complete, include:
- evidence type
- evidence source
- evidence content

{{/if}}

{{#if categories}}
---

## Categories

| Category | Description |
|---|---|
{{#each categories}}
| `{{this}}` | Gates related to {{this}} |
{{/each}}
{{/if}}
